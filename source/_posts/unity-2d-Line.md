---
title: unity 2d Line
date: 2023-10-12 14:19:34
tags: 工程
typora-root-url: ./unity-2d-Line
---

## 场景搭建

搭建一个简单的菜单界面，添加了下雨的特效

![image-20231012143020995](image-20231012143020995.png)

### 主相机配置

在主相机创建两个文本，`Text`。在其中设置锚点处为界面顶，如图所示：

![image-20231012142931745](image-20231012142931745.png)

当然，锚点也可以设置为以父节点为基准，也就是说父结点运动我们的子节点会跟着运动，关于父结点和子节点的关系：

![image-20231012143547929](image-20231012143547929.png)

在`Canvas`下的都是子节点，`Canvas`是父结点。将物件和按钮调整到合适的位置我们加一些组件。

![image-20231012143709780](image-20231012143709780.png)

`shadow`给字体添加阴影，阴影的原理是和字体不太同一个平面内就形成了阴影，在`2d`中，我们的光源不可能在`z`轴中出现，所以说就用不同平面表示阴影。`x,y`表示阴影平面的偏移。

![image-20231012143942632](image-20231012143942632.png)

我们还需要对摄像机画面进行修改，让它可以根据我们屏幕大小缩放我们的界面，这里设置的`Scale With Screen Size`设置缩放。将显示设置为`1k`，这里`Reference Resolution`用于适配分辨率。`Match`选择用那个参考缩放，这里设置为`0.5`就是两者（高度和宽度）都参考缩放。

![image-20231012144945648](image-20231012144945648.png)

添加特效，我们需要的是下雨的特效，但是初始的时候添加发射的是框框：

![image-20231012145059238](image-20231012145059238.png)

这是因为我们没有设置样式，我们需要调整这个特效的样式，先看看我们的需求：

- 需要添加下雨的样式
- 方向改为向下
- 雨滴需要有碰撞效果

![image-20231012150656950](image-20231012150656950.png)

将发射的物体形状改为`Box`这样就会集中向一个方向发射，然后将位置改为`90度`，记得重新设置一下物体的位置，按`reset`

![image-20231012151606522](image-20231012151606522.png)

调整完特效的位置之后，我们需要装上我们的样式

![image-20231012151658906](image-20231012151658906.png)

这里采用函数的形式循环播放我们的动画，可以理解为我们插入的都是一帧一帧的图片，然后调整函数的转化时间就可以做一个动画了：

![image-20231012151813221](image-20231012151813221.png)

然后设置我们的雨滴大小`start size`，调整完雨滴的颜色，这里需要设置一下雨滴的重力来模仿我们的现实世界。然后取消我们雨滴的反弹效果，也就是`Flip Rotation`修改为`0`.

![image-20231012151849330](image-20231012151849330.png)

然后设置碰撞器，让雨滴和地面有碰撞效果

![image-20231012152151764](image-20231012152151764.png)

然后就有动画效果了：

![录制_2023_10_12_15_30_05_568](录制_2023_10_12_15_30_05_568.gif)

然后我们需要对水滴进行增光处理，建一个材质：`Material`

![image-20231012153318588](image-20231012153318588.png)

然后调整颜色和`Alpha Clipping`这个是不会更改原先样式，将这个材质插入到我们的组件当中：

![image-20231012153503333](image-20231012153503333.png)

然后建一个：`Global Volume`控制我们界面的光效，然后配置：

![image-20231012153546333](image-20231012153546333.png)

具体的功能如这个[博客](https://docs.unity3d.com/cn/Packages/com.unity.render-pipelines.universal@12.1/manual/shaders-in-universalrp.html)，然后我们就实现了功能了。

![image-20231012153710502](image-20231012153710502.png)
