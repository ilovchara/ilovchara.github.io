---
title: 设计模式
date: 2024-02-19 12:59:42
tags: 工程
typora-root-url: ./设计模式
---

# 设计模式

## 组合模式

组合模式是让每一种方法成为一个独立的组件，在有需要的时候将组件加入到我们对应的物品中。像是Unity中的Component就是基于组件设计模式就行开发的。

![image-20240219130542368](image-20240219130542368.png)

如果单纯依靠类的继承实现多态，会出现许多维护的问题。继承的越多，代码复用性也就越多。这个时候用组合模式，将子类需要的函数独立出来创建为组件。通过组件组合的方式来生成对应的对象。

![image-20240219130720943](image-20240219130720943.png)

![image-20240219131152308](image-20240219131152308.png)

当然，获取组件的时候会造成性能压力。在使用`GetComponent`的时候要遵循两个准则

- 避免在Update使用
- 尝试初始化中使用，避免反复获取

## [单例模式](https://zhuanlan.zhihu.com/p/113935894)

> 避免使用单例模式

单例模式很简单，保证一个类只有一个实例且具有全局访问点。也即是静态变量。

```c#
// 属性
public static Singleton Instance {get; private set;}
```

单例模式的优点：

- 单例模式只有在第一次请求的时候被创建，不会自主创建。这样节省了内存。
- 只存在一个对象就行运作，不用经历对象的创建和销毁，节省性能
- 简单，可以调用任何类

单例模式的缺点：

- 提高了系统的耦合度。
- 维护困难，单例如果出现问题会产生蝴蝶效应
- 扩展难度困难，

## [类似委托](https://learn.u3d.cn/tutorial/game-design-pattern-jizhi?chapterId=63562b26edca72001f21d019#62f2678c51d86f0020dc95dd)

## [命令模式 ](https://shusheng007.top/2021/09/08/command-pattern/)

## [观察者模式](https://www.cnblogs.com/zhili/p/ObserverPattern.html)

## [对象池模式](https://blog.51cto.com/u_15273495/3230261)

## [工厂模式](https://refactoringguru.cn/design-patterns/factory-method)
