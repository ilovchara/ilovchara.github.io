---
title: åŠ¨æ€è§„åˆ’andè´ªå¿ƒ
date: 2023-04-28 09:09:57
categories: ç®—æ³•
tags: æ•°æ®ç»“æ„
typora-root-url: ./åŠ¨æ€è§„åˆ’
---

## [åŠ¨æ€è§„åˆ’](https://cloud.tencent.com/developer/article/1692068)

> åªæœ‰å¤šç»ƒæ‰èƒ½ç§¯ç´¯ï¼Œä¹‹åå°±å˜ç»ƒå˜æ€»ç»“ï¼Œä¸è¦å†™äº‘é‡Œé›¾é‡Œçš„ä¸œè¥¿äº†ã€‚

åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼Œç®€ç§°DPï¼‰æ˜¯ä¸€ç§è§£å†³å¤šé˜¶æ®µå†³ç­–é—®é¢˜çš„æ•°å­¦ä¼˜åŒ–æ–¹æ³•å’Œç®—æ³•æ€æƒ³ã€‚å®ƒé€šå¸¸ç”¨äºè§£å†³å…·æœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ï¼Œå…¶ä¸­æœ€ä¼˜å­ç»“æ„æŒ‡çš„æ˜¯é—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥ç”±å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆè€Œæˆï¼Œè€Œé‡å å­é—®é¢˜æŒ‡çš„æ˜¯åœ¨é—®é¢˜çš„æ±‚è§£è¿‡ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ªå­é—®é¢˜ä¼šè¢«å¤šæ¬¡è®¡ç®—ï¼Œè¿™å¯¼è‡´äº†å­é—®é¢˜çš„é‡å¤æ±‚è§£ã€‚

è¯´äººè¯å°±æ˜¯ï¼Œåœ¨è®¡ç®—åˆ°æˆ‘ä»¬ç»“æœçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€éƒ¨åˆ†çš„æ•°æ®æˆ‘ä»¬å·²ç»ç®—äº†ä¸€éäº†ï¼ˆç”šè‡³éœ€è¦å¤šéï¼‰ï¼Œæˆ‘ä»¬å°†è¿™äº›`é‡å å­—`è®°å½•èµ·æ¥ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚è¿˜æœ‰å‘¢å°±æ˜¯ï¼Œæˆ‘ä»¬ç›¸å½“äºå°†æˆ‘ä»¬ç»“æœçš„å¤§é—®é¢˜æ‹†å¼€ï¼Œå¤§é—®é¢˜åŒ…è£¹ç€å°é—®é¢˜ï¼Œå°±å’Œä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ï¼Œåªæœ‰åˆ°äº†æœ€å¼€å§‹çš„å­é—®é¢˜çš„æ—¶å€™ï¼Œæ‰ä¼šä¸€å±‚ä¸€å±‚å¾€ä¸Šèµ°ã€‚

ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼š**æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬né¡¹**

> å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥nï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ n é¡¹ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š F(0) = 0, F(1) = 1 F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N > 1. æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚

å…ˆç”¨ä¼ ç»Ÿé€’å½’æ€æƒ³è§£å†³è¿™é“é¢˜ï¼šæ€è·¯å¹³å¹³æ— å¥‡

```c++
#include<iostream>
using namespace std;

//é€’å½’å®ç°
int Fc(int n)
{
   if(n == 0) return 0;
   else if(n == 1) return 1;
   
   return Fc(n-1)+Fc(n-2); 
    
}

int main()
{
    for(int i = 0;i<10;++i){
        cout<<fc(i)<<" ";
    }
    cout<<endl;   
    return 0;    
    
}
```

```c++
//ç»“æœ
F(0) = 0
F(1) = 1
F(2) = 1
F(3) = 2
F(4) = 3
F(5) = 5
F(6) = 8
F(7) = 13
F(8) = 21

//å¦‚æœè¾“å…¥çš„æ˜¯ 8 é‚£ä¹ˆæ‰€æœ‰çš„ç»“æœä¼šæ˜¯ï¼š
f(8) = f(7) + f(6)
f(7) = f(6) + f(5)
f(6) = f(5) + f(4)
f(5) = f(4) + f(3)
f(4) = f(3) + f(2)
f(3) = f(2) + f(1)
f(2) = f(1) + f(0)
```

æ˜æ˜¾å¯ä»¥çœ‹åˆ°ï¼Œæ€»è®¡ 8 æ¬¡çš„è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œç›¸åŒçš„è®¡ç®—ç»“æœæœ‰ä¸‰å¯¹è¿›è¡Œäº†**é‡å¤è®¡ç®—**ï¼ˆä¸‹å›¾ä¸­åŒè‰²é¡¹ï¼Œä¸åŒ…å«ç°è‰²ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠæ›¾ç»è®¡ç®—è¿‡çš„é¡¹è¿›è¡Œäº†**åˆä¸€æ¬¡çš„é‡å¤è®¡ç®—**ï¼Œè¿™æ ·å¯¹äºæ—¶é—´æ•ˆç‡æ˜¯æ¯”è¾ƒä½çš„ï¼Œå”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä»£ç çœ‹èµ·æ¥æ¯”è¾ƒå¥½æ‡‚ï¼Œä½†æ˜¯ç»ˆå½’ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç®—æ³•è®¾è®¡æ–¹æ³•ã€‚

ä»£ç ä¸­ï¼Œåœ¨è®¡ç®—Nçš„æ—¶å€™å°±å»é€’å½’è®¡ç®— `fib(N-1) + fib(N-2)`ï¼Œé‚£ä¹ˆï¼Œè¿™ç§æƒ…å†µä¸‹çš„è®¡ç®—è¿‡ç¨‹ä¸­ã€‚ä¼šæ˜¯ä¸‹é¢å›¾ä¸­çš„ä¸€ä¸ªè®¡ç®—è¿‡ç¨‹ã€‚

å¯ä»¥å‘ç°ï¼Œä¼šæœ‰ç›¸å½“ä¸€éƒ¨åˆ†çš„é‡å¤è®¡ç®—ï¼Œè¿™æ ·å¯¹äºæ—¶é—´éƒ½æ˜¯é‡å¤çš„æ¶ˆè€—ã€‚

> å‚è€ƒå›¾ä¸­ç›¸åŒé¢œè‰²çš„é¡¹ï¼Œæ¯”å¦‚è¯´ç²‰è‰²çš„é‡å¤è®¡ç®—ã€é»„è‰²çš„é‡å¤è®¡ç®—ç­‰
>
> **æ³¨æ„ï¼š**é€’å½’ä¸­æ²¡æœ‰å¯¹ç©ºé—´è¿›è¡Œäº†å¢åŠ ï¼Œå§‹ç»ˆéƒ½æ˜¯åŒæ ·çš„é•¿åº¦ï¼Œä»…ä»…æ˜¯ä¸æ–­çš„å¼¹å‡ºå’Œå‹å…¥

![img](bkaejoe5ad.png)

ä¸ºäº†æ›´å¥½çš„è¯´æ˜è¿™ç§é‡å¤è®¡ç®—å¸¦æ¥æ—¶é—´æ•ˆç‡çš„ä½ä¸‹ã€‚å†æ¯”å¦‚è¯´ï¼Œç›¸æ¯”ä¸Šè¿°å›¾ä¸­çš„è®¡ç®—èŠ‚ç‚¹ï¼Œå†å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹çš„è®¡ç®—ï¼Œå¢åŠ è®¡ç®—F(5)ï¼Œé‚£ä¹ˆç”±äºé€’å½’çš„è®¡ç®—æ–¹å¼ï¼Œä¼šæœ‰æ›´å¤šçš„é¡¹ï¼ˆä¸‹å›¾ä¸­çº¿æ¡†ä¸­éƒ¨åˆ†ï¼‰è¿›è¡Œäº†é‡å¤çš„è®¡ç®—ã€‚åœ¨è®¡ç®—`F(5)`çš„æ—¶å€™ï¼Œä¼šé€’å½’è°ƒç”¨`F(4)`å’Œ`F(3)`ï¼Œè€Œåœ¨ä¸‹å›¾ä¸­ï¼Œè®¡ç®—`F(4)`çš„æ—¶å€™ï¼Œåˆä¼šå®Œæ•´çš„å»è®¡ç®—`F(3)`ã€‚è¿™æ ·ï¼Œå¦‚æœNå¾ˆå¤§çš„è¯ï¼Œä¼šæœ‰æ›´å¤§çš„æ—¶é—´æ¶ˆè€—. 

è¿™æ ·ï¼Œè¿™æ£µæ ‘çš„è§„æ¨¡è¿›è¡Œè¿›è¡Œæˆå€å¢åŠ ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆæ˜æ˜¾çš„è¿›è¡Œäº†æˆå€çš„æ‰©å¼ ã€‚å¯¹äºæ—¶é—´ä¸Šæ¥è¯´æ˜¯å¾ˆææ€–çš„.

æ—¶é—´å¤æ‚åº¦å¸¦æ¥çš„ä½æ•ˆç‡ä¸¥é‡è¶…è¿‡äº†ä»£ç çš„å¯è¯»æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æƒ³åŠæ³•å°†**è¿‡å»è®¡ç®—**è¿‡çš„èŠ‚ç‚¹**è¿›è¡Œä¿å­˜**ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¼šç”¨åˆ°ä¸‹é¢è¦è¯´çš„åŠ¨æ€è§„åˆ’æ€æƒ³å¸¦æ¥çš„æ—¶é—´ä¸Šçš„é«˜æ•ˆ. 

![img](et3sz0g04k.png)

> æ—¶é—´å¤æ‚åº¦ï¼š$O(2^N)$   ---> æŒ‡æ•°çº§
>
> ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

-------------------------------

**åŠ¨æ€è§„åˆ’ï¼š**æˆ‘ä»¬ä¸ç›´æ¥å»è§£å†³é—®é¢˜ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€æ­¥è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œè¾¾åˆ°æ¯ä¸€æ­¥çš„æœ€ä¼˜æƒ…å†µã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯åœ¨æ¯ä¸€æ­¥è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨**è¿‡å»çš„çŠ¶æ€**ä»¥åŠ**å½“å‰çŠ¶æ€**çš„æƒ…å†µè€Œè¾¾åˆ°ä¸€ä¸ªå½“å‰çš„æœ€ä¼˜çŠ¶æ€.

**è§„åˆ’ï¼š**åœ¨ä¸€èˆ¬è§£å†³è¯¥ç±»é—®é¢˜çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªâ€œå¡«è¡¨æ ¼â€çš„è¿‡ç¨‹ï¼Œæ— è®ºæ˜¯ç®€å•æƒ…å†µä¸‹çš„**ä¸€ç»´è¡¨æ ¼**è¿˜æ˜¯å¤æ‚ä¸€ç‚¹çš„**äºŒç»´è¡¨æ ¼**ï¼Œéƒ½æ˜¯ä»¥**å¼€è¾Ÿç©ºé—´æ¢æ—¶é—´**çš„æ€æƒ³ï¼Œä»¥äº‰å–æœ€ä½³çš„æ—¶é—´æ•ˆç‡. ï¼ˆä¿å­˜è¿‡ç¨‹ä¸­é—´å€¼ï¼Œæ–¹ä¾¿åç»­ç›´æ¥ä½¿ç”¨ï¼‰.

**åŠ¨æ€ï¼š**ç”¨ä¸Šé¢çš„æ¡ˆä¾‹æ¥è¯´ï¼Œé€’å½’è§£å†³è¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥éƒ½ä¼šä»åŸºæœ¬é—®é¢˜ä¸æ–­çš„â€œè‡ªé¡¶å‘ä¸‹â€å»æ±‚è§£ï¼Œåœ¨æ¯ä¸€æ­¥éª¤ä¸­ï¼Œä¼šæœ‰ç›¸åŒçš„è®¡ç®—é€»è¾‘è¿›è¡Œäº†é‡å¤çš„è®¡ç®—ã€‚ç›¸æ¯”äºé€’å½’æ€æƒ³ï¼ŒåŠ¨æ€è§„åˆ’æ€æƒ³å¢åŠ äº†å¯¹å†å²ä¸Šè®¡ç®—ç»“æœçš„ä¿å­˜ï¼Œé€æ­¥è®°å½•ä¸‹ä¸­é—´çš„è®¡ç®—ç»“æœï¼Œåœ¨æ¯ä¸€æ­¥æ±‚å¾—æœ€ä¼˜å€¼.

å› æ­¤ï¼ŒåŠ¨æ€è§„åˆ’å¯ä»¥é¿å…é‡å¤è®¡ç®—ï¼Œè¾¾åˆ°äº†æ—¶é—´ä¸Šçš„æœ€ä¼˜ï¼Œä»`O(2^N)`æŒ‡æ•°çº§å˜ä¸º`O(N)`å¸¸æ•°çº§åˆ«ï¼Œç›¸è¾ƒäºå¼€è¾Ÿçš„ä¸€æ®µå†…å­˜ç©ºé—´å­˜æ”¾ä¸­é—´è¿‡ç¨‹å€¼çš„å¼€é”€ï¼Œæ˜¯éå¸¸å€¼å¾—çš„.

**é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å’±ä»¬ä¾ç…§åŠ¨æ€è§„åˆ’çš„æ€è·¯è¿›è¡Œå¯¹Fibonacciè¿›è¡Œä¸‹è§£å†³**

ä¾æ®é¢˜ä¸­çš„è§„åˆ™ï¼š

`F(0) = 0, F(1) = 1`

`F(N) = F(N - 1) + F(N - 2),  when N > 1`

é‚£ä¹ˆï¼ŒğŸ‘‡ğŸ‘‡F(N) çš„å€¼åªä¸ä»–çš„å‰ä¸¤ä¸ªçŠ¶æ€æœ‰å…³ç³»ğŸ‘‡ğŸ‘‡

a. åˆå§‹åŒ–å€¼ : `F(0) = 0, F(1) = 1`

b. æƒ³è¦è®¡ç®—å¾—åˆ°`F(2)`ï¼Œ é‚£ä¹ˆ`F(2) = F(0) + F(1)   -->  ä¿å­˜ F(2)`

c. æƒ³è¦è®¡ç®—å¾—åˆ°`F(3)`ï¼Œ é‚£ä¹ˆ`F(3) = F(2) + F(1)   -->  ä¿å­˜ F(3)`

d. æƒ³è¦è®¡ç®—å¾—åˆ°`F(3)`ï¼Œ é‚£ä¹ˆ`F(4) = F(3) + F(2)   -->  ä¿å­˜ F(4)`

åˆ©ç”¨åŠ¨æ€è§„åˆ’æ€æƒ³ï¼Œä»¥ä¸€ç»´æ•°ç»„è¾…åŠ©å®ç°çš„Fibonacciï¼Œçœ‹ä¸‹å›¾

![img](6qd2ia8jfj.png)

æ˜¯ä¸æ˜¯å¾ˆç®€å•çš„æ€è·¯ï¼Œä»…ä»…é ä¿å­˜è¿‡ç¨‹ä¸­çš„ä¸€äº›å€¼å°±èƒ½å¾ˆç®€å•çš„åˆ©ç”¨å¾ªç¯å°±å¯ä»¥å®ç°äº†ï¼Œæ²¡å¿…è¦ç”¨é€’å½’åå¤è®¡ç®—è¿›è¡Œå®ç°ã€‚

æƒ³è¦è®¡ç®—å¾—åˆ°ç¬¬ n ä¸ªå€¼çš„å¤šå°‘ï¼Ÿé‚£ä¹ˆï¼Œä»¥ä¸‹å‡ ç‚¹æ˜¯æˆ‘ä»¬å¿…é¡»è¦åšåˆ°çš„

è¯è¯´åªè¦ä¸¤ä¸ªå€¼ï¼Œç°åœ¨å®šä¹‰ä¸¤ä¸ªå˜é‡ dp1 å’Œ dp2ã€‚é‚£ä¹ˆï¼Œç°åœ¨å’±ä»¬ä¸€æ­¥ä¸€æ­¥æ¨¡æ‹Ÿä¸€ä¸‹ï¼š

a. åˆå§‹åŒ–å€¼ : F(0) = 0, F(1) = 1

![img](t36rk0x8sx.png)

b. æƒ³è¦è®¡ç®—å¾—åˆ°F(2)ï¼Œ é‚£ä¹ˆF(2) = F(0) + F(1)   -->  ä¿å­˜ F(2)

```js
é¡ºå¸¦å°†F(1)èµ‹å€¼ç»™dp1ï¼Œ f(2)èµ‹å€¼ç»™dp2
```

å¤åˆ¶

![img](y5moqglg82.png)

c. æƒ³è¦è®¡ç®—å¾—åˆ°F(3)ï¼Œ é‚£ä¹ˆF(3) = F(2) + F(1)   -->  ä¿å­˜ F(3)

```js
é¡ºå¸¦å°†F(2)èµ‹å€¼ç»™dp1ï¼Œ F(3)èµ‹å€¼ç»™dp2
```

å¤åˆ¶

![img](nnxa1qxt39.png)

d. æƒ³è¦è®¡ç®—å¾—åˆ°F(3)ï¼Œ é‚£ä¹ˆF(4) = F(3) + F(2)   -->  ä¿å­˜ F(4)

```js
é¡ºå¸¦å°†F(3)èµ‹å€¼ç»™dp1ï¼Œ F(4)èµ‹å€¼ç»™dp2
```

å¤åˆ¶

![img](5efrj8zz5e.png)

è‡³æ­¤ä¸ºæ­¢ï¼Œæ•´ä¸ªè¿‡ç¨‹ä»…ä»…ç”¨åˆ°äº†ä¸¤ä¸ªå˜é‡æ¥å­˜å‚¨è¿‡ç¨‹ä¸­äº§ç”Ÿçš„å€¼ï¼Œä¹Ÿå°±ä¹‹å‰æ²¡æœ‰ä¼˜åŒ–çš„ç©ºé—´æ•ˆç‡å¾—åˆ°äº†ä¼˜åŒ–

ä¸‹é¢æ˜¯è¿™ä¸ªç¨‹åºçš„ä»£ç ï¼š

```c++
#include<iostream>
using namespace std;

int fbnq(int n){
    if(n<=1) return n;
    
    vector<int> dp(n+1);
    
    dp[0] = 0;
    dp[1] = 1;
    
    for(int i = 2;i<=n;++i) dp[i] = dp[i-1]+dp[i-2];
    
    return dp[n];
}


int main()
{
    int n;
 	cout<<fbnq(n)<<" ";
    return 0;    
}
```

> ç®€å•æ¥è¯´å°±æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼Œå‘ç°çš„ç»†èŠ‚å°±æ˜¯æ¯ä¸ªæ•°æ®éƒ½ä¸å‰é¢ä¸¤ä¸ªè®¡ç®—çš„æ•°æ®å¼ºå…³è”ï¼Œè¿™æ ·å°±å¯ä»¥å¾—å‡ºæˆ‘ä»¬`dp`æ•°ç»„çš„æ„é€ ã€‚

-----------------------

ä¸Šé¢ç”¨æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜ï¼Œå¼•å‡ºäº†ä¸‹é¢çš„å‡ ç‚¹ï¼Œåœ¨è¿™é‡Œå†è¯¦ç»†èµ˜è¿°ä¸€ä¸‹

åœ¨åé¢çš„æ¡ˆä¾‹ä¸­å°†ä¼šå°½é‡ä¸¥æ ¼æŒ‰ç…§è¿™å‡ ä¸ªæ­¥éª¤è¿›è¡Œè§£å†³é—®é¢˜

> æ­¥éª¤ä¸€ï¼šå®šä¹‰`dp`æ•°ç»„çš„å«ä¹‰
>
> æ­¥éª¤äºŒï¼šå®šä¹‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹
>
> æ­¥éª¤ä¸‰ï¼šåˆå§‹åŒ–è¿‡ç¨‹è½¬ç§»çš„åˆå§‹å€¼
>
> æ­¥éª¤å››ï¼šå¯ä¼˜åŒ–ç‚¹(å¯é€‰)

æ­¥éª¤ä¸€ï¼šå®šä¹‰`dp`æ•°ç»„çš„å«ä¹‰

ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ç»´æ•°ç»„æˆ–è€…äºŒç»´æ•°ç»„è¿›è¡Œå­˜å‚¨åœ¨è®¡ç®—è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æœ€ä¼˜å€¼ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆæ˜¯æœ€ä¼˜å€¼å‘¢ï¼Ÿæ˜¯å› ä¸ºåœ¨è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬æƒ…å†µdpæ•°ç»„ç”¨æ¥ä¿å­˜**ä»å¼€å§‹åˆ°å½“å‰æƒ…å†µçš„æœ€ä¼˜å€¼**ï¼Œæ•…è€Œä¿å­˜çš„æ˜¯æˆªæ­¢åˆ°ç›®å‰çš„æœ€ä¼˜å€¼ï¼Œé¿å…é‡å¤è®¡ç®—ï¼ˆè¿™é‡Œçœ‹èµ·æ¥æ€ç»´æœ‰æ··ä¹±çš„åŒå­¦ä»¬ï¼Œæƒ³æƒ³ä¸Šé¢Fibonacci é€’å½’è§£æ³•å’ŒåŠ¨æ€è§„åˆ’çš„å¯¹æ¯”ï¼‰

**æ‰€ä»¥ï¼Œ`dp`æ— è®ºæ˜¯ä¸€ç»´çš„è¿˜æ˜¯äºŒç»´çš„ï¼Œè¦æƒ³æ¸…æ¥šä»£è¡¨ä»€ä¹ˆï¼Œä¸€èˆ¬æ¥è¯´ä»£è¡¨çš„æ˜¯æˆªæ­¢åˆ°ç›®å‰æƒ…å†µä¸‹çš„æœ€ä¼˜å€¼**

æ­¥éª¤äºŒï¼šå®šä¹‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹

ä»€ä¹ˆæ˜¯åŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼Ÿ å¦‚æœæœ‰ä¸€ä¸ªé—®é¢˜æ‘†åœ¨æˆ‘ä»¬é¢å‰ï¼Œç„¶åè¿™ä¸ªé—®é¢˜åœ¨è§£å†³çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç°æœ‰å¾ˆå¤šçš„é‡å çš„å­é—®é¢˜ï¼Œé‡å å­ç»“æ„ï¼Œè€Œé€šè¿‡è¿™äº›å­é—®é¢˜çš„è§£å†³ï¼Œæœ€ç»ˆå°†ä¼šæŠŠè¯¥é—®é¢˜è¿›è¡Œè§£å†³

é€šä¿—æ¥è¯´ï¼Œåœ¨è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­ï¼Œèƒ½å¤Ÿå‘ç°ä¸€ä¸ªä¸æ–­è§£å†³å­é—®é¢˜çš„åŠ¨æ€è§„å¾‹ï¼Œæ¯”å¦‚è¯´Fibonacciä¸­çš„F(N) = F(N - 1) + F(N - 2)ï¼Œè€Œåœ¨å…¶ä»–çš„å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜ä¸­ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»å‘ç°è¿™æ ·çš„å†…åœ¨è§„å¾‹ã€‚è¿™ä¸ªæ˜¯æœ€éš¾çš„ä¹Ÿæ˜¯æœ€ç»ˆäºè¦çš„ï¼Œåªè¦è¿™ä¸€æ­¥è§£å†³äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜åŸºæœ¬å°±æ²¡é—®é¢˜äº†.

æ­¥éª¤ä¸‰ï¼šåˆå§‹åŒ–è¿‡ç¨‹è½¬ç§»çš„åˆå§‹å€¼

é¡ºç€æ­¥éª¤äºŒçš„æ€è·¯æ¥ï¼Œæ—¢ç„¶åŠ¨æ€æ–¹ç¨‹å®šä¹‰å¥½äº†ï¼Œæ˜¯ä¸æ˜¯éœ€è¦ä¸€ä¸ª**æ”¯ç‚¹**æ¥æ’¬åŠ¨å®ƒè¿›è¡Œä¸æ–­çš„è®¡ç®—ä¸‹å»ã€‚

é‚£ä¹ˆï¼Œè¿™ä¸ª**æ”¯ç‚¹**å°±éœ€è¦æˆ‘ä»¬æ¥åˆå§‹å®šä¹‰ï¼Œå°†åŠ¨æ€æ–¹ç¨‹æ¿€æ´»ï¼Œè¿›è¡Œè®¡ç®—ã€‚ä¸¾ä¾‹æ¥è¯´Fibonacciä¸­çš„F(0) = 0å’ŒF(1) = 1ï¼Œæœ‰äº†è¿™ä¸¤ä¸ªå€¼ï¼Œå®ƒçš„åŠ¨æ€æ–¹ç¨‹F(N) = F(N - 1) + F(N - 2)å°±å¯ä»¥è¿›è¡Œä¸‹å»äº†

è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦æƒ³å¥½çš„åˆå§‹å€¼ï¼Œå®é™…é—®é¢˜å¯èƒ½è¿˜éœ€è¦æˆ‘ä»¬æƒ³æƒ³æ¸…æ¥š.

æ­¥éª¤å››ï¼šå¯ä¼˜åŒ–ç‚¹(å¯é€‰)

å¯ä¼˜åŒ–çš„è¿™é‡Œï¼Œæœ€é‡è¦çš„ä¼šæ˜¯`dp`æ•°ç»„è¿™å—ï¼Œä¹Ÿä¼šæœ‰ä¸åŒé—®é¢˜ä¸åŒçš„ä¼˜åŒ–ç‚¹

åœ¨ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œä¸åŒçš„ä¼˜åŒ–. 

æ€»ä¹‹ä¸€ç‚¹ï¼Œå»ºè®®å¤§å®¶åŠ¨ç¬”å¤šç”»ç”»å›¾ï¼Œå¾ˆå¤šç»†èŠ‚æ…¢æ…¢å°±ä¼šå‡ºç°äº†. 

## èƒŒåŒ…é—®é¢˜

èƒŒåŒ…é—®é¢˜ï¼ˆKnapsack problemï¼‰æ˜¯ä¸€ç§ç»„åˆä¼˜åŒ–çš„NPå®Œå…¨`ï¼ˆNP-Completeï¼ŒNPCï¼‰`é—®é¢˜ã€‚é—®é¢˜å¯ä»¥æè¿°ä¸ºï¼šç»™å®šä¸€ç»„ç‰©å“ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰è‡ªå·±çš„é‡é‡å’Œä»·æ ¼ï¼Œåœ¨é™å®šçš„æ€»é‡é‡å†…ï¼Œæˆ‘ä»¬å¦‚ä½•é€‰æ‹©ï¼Œæ‰èƒ½ä½¿å¾—ç‰©å“çš„æ€»ä»·æ ¼æœ€é«˜ã€‚`NPC`é—®é¢˜æ˜¯æ²¡æœ‰å¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„è§£æ³•çš„ï¼Œä½†æ˜¯åˆ©ç”¨åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥ä¼ªå¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦æ±‚è§£èƒŒåŒ…é—®é¢˜ã€‚ä¸€èˆ¬æ¥è®²ï¼ŒèƒŒåŒ…é—®é¢˜æœ‰ä»¥ä¸‹å‡ ç§åˆ†ç±»ï¼š

> 01èƒŒåŒ…é—®é¢˜
>
> å®Œå…¨èƒŒåŒ…é—®é¢˜
>
> å¤šé‡èƒŒåŒ…é—®é¢˜

### `01`èƒŒåŒ…é—®é¢˜

![image-20230319202209832](image-20230319202209832.png)

![image-20230319214127252](image-20230319214127252.png)

åŠ¨æ€è§„åˆ’é‡ç‚¹çš„æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹:` 01`èƒŒåŒ…ï¼Œä»£è¡¨ç€ç‰©å“åªæœ‰ä¸¤ç§å¯èƒ½æ€§ - æ”¾å’Œä¸æ”¾

`f[i][j] `ä¸­çš„å‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºjçš„èƒŒåŒ…ä¸­ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥çœ‹å‡ºï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªç»´åº¦æˆ‘ä»¬å­˜å‚¨çš„æ˜¯ç‰©å“çš„ä¸åŒç§ç±»ï¼Œç¬¬äºŒä¸ªç»´åº¦å­˜å‚¨çš„æ˜¯æˆ‘ä»¬çš„èƒŒåŒ…å®¹é‡ã€‚

> å¯ä»¥è¿™æ ·ç†è§£ï¼Œ`f[i][j]`å°±æ˜¯`i`ç‰©å“æ”¾å…¥èƒŒåŒ…å®¹é‡ä¸º`j`çš„çŠ¶æ€

æ›´æ–°å®¹é‡æˆ‘ä»¬å°±ä½¿ç”¨ï¼š`max(f[i-1][j-w[i]]+c[i],f[i-1][j])`

å½“ç„¶æ”¾å…¥ç‰©å“çš„æ—¶å€™æœ‰ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬åˆ†åˆ«åˆ¤æ–­ä¸€ä¸‹ï¼š
     ç¬¬ä¸€ç§ï¼šæˆ‘ä»¬æ”¾å…¥æˆ‘ä»¬çš„iç‰©å“ï¼Œé‚£ä¹ˆ`f[i][j] = f[i-1][j-w[i]]+c[i]`,å°±æ˜¯è¿™æ ·å­ï¼Œæˆ‘ä»¬ä»ä¸¤ä¸ªç»´åº¦è§£é‡Šä¸€ä¸‹ï¼š ç¬¬ä¸€ä¸ªç»´åº¦`f[i-1]`:å¾ˆç®€å•å°±æ˜¯æˆ‘ä»¬å·²ç»é€‰æ‹©äº†`i`ç‰©å“äº†ï¼Œé‚£ä¹ˆä»å…¨éƒ¨ç‰©å“ä¸­ï¼Œå°±å°‘äº†æˆ‘ä»¬çš„`i`ï¼Œå› æ­¤å°±æ˜¯`i-1`ã€‚ ç¬¬äºŒä¸ªç»´åº¦å°±æ˜¯`f[j-w[i]]`,å°±æ˜¯æˆ‘ä»¬æ—¢ç„¶é€‰æ‹©äº†`i`ï¼Œé‚£ä¹ˆå°±æŠŠæˆ‘ä»¬çš„èƒŒåŒ…ä¸­ç›´æ¥å¡å…¥æˆ‘ä»¬çš„ç‰©å“ï¼Œè¿™ä¸ªç‰©å“å°±ä¼šå æ®ä½ç½®å—¯ã€‚
     ç¬¬äºŒç§ï¼šä¸æ”¾æˆ‘ä»¬çš„iç‰©å“ï¼Œå°±æ˜¯`f[i][j] = f[i-1][j]`ï¼Œä¸æ”¾ç‰©å“æˆ‘ä»¬çš„`j`è¿™å®¹é‡è‚¯å®šå°±ä¸ä¼šå˜åŒ–ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬ä¸æ”¾è¿™ä¸ªç‰©å“çš„è¯ï¼Œå°±åªèƒ½ä»åˆ«çš„ç‰©å“é€‰æ‹©ï¼Œé‚£å°±æ˜¯åªå‰©ä¸‹`i-1`ç§ç‰©å“äº†ã€‚

> ç¬¬ä¸€ç§æƒ…å†µï¼šé€‰æ‹©æ”¾å…¥ç¬¬`i`ä¸ªç‰©å“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è€ƒè™‘èƒŒåŒ…å®¹é‡å‡å»ç¬¬`i`ä¸ªç‰©å“çš„é‡é‡åå‰©ä½™çš„å®¹é‡`j - w[i]`ï¼Œä»¥åŠèƒŒåŒ…å®¹é‡`j`æ—¶çš„æœ€å¤§ä»·å€¼`f[i][j]`ç­‰äºåœ¨èƒŒåŒ…å®¹é‡`j - w[i]`æ—¶çš„æœ€å¤§ä»·å€¼`f[i-1][j - w[i]]`åŠ ä¸Šç¬¬`i`ä¸ªç‰©å“çš„ä»·å€¼`c[i]`ã€‚è¿™è¡¨ç¤ºä½ å°†ç¬¬`i`ä¸ªç‰©å“æ”¾å…¥èƒŒåŒ…ä¸­ï¼Œç„¶åç»§ç»­è€ƒè™‘å‰`i-1`ä¸ªç‰©å“å’Œå‰©ä½™å®¹é‡`j - w[i]`ã€‚
>
> ç¬¬äºŒç§æƒ…å†µï¼šä¸é€‰æ‹©æ”¾å…¥ç¬¬`i`ä¸ªç‰©å“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒèƒŒåŒ…å®¹é‡`j`æ—¶çš„æœ€å¤§ä»·å€¼`f[i][j]`ç­‰äºåœ¨èƒŒåŒ…å®¹é‡`j`æ—¶çš„æœ€å¤§ä»·å€¼`f[i-1][j]`ã€‚è¿™è¡¨ç¤ºä½ ä¸å°†ç¬¬`i`ä¸ªç‰©å“æ”¾å…¥èƒŒåŒ…ä¸­ï¼Œç»§ç»­è€ƒè™‘å‰`i-1`ä¸ªç‰©å“å’Œå®¹é‡`j`ã€‚

![image-20230319202536339](image-20230319202536339.png)

```c++
//æ¨¡ç‰ˆæ€æƒ³ç ”ç©¶
//ç”¨äºŒç»´æ•°ç»„æ¥ç†è§£
 for(int i = 1;i<=n;i++)
        for(int j = 1;j<=m;j++)
            if(j<w[i]) //å…ˆå†³æ¡ä»¶ï¼šè¿™ä¸ªä½ç½®æ”¾ä¸äº†iè¿™ä¸ªç‰©å“äº†
                f[i][j] = f[i-1][j];
   else
                f[i][j] = max(f[i-1][j],f[i-1][j-w[i]]+c[i]); 
 cout<<f[n][m];
```

--------------------

ç”¨äºŒç»´æ•°ç»„æ¥ç†è§£ååˆ†å®¹æ˜“ï¼Œä½†æ˜¯ä¼šæµªè´¹ä¸€äº›å®¹é‡ã€‚æˆ‘ä»¬ä¸å¦¨ä½¿ç”¨æ»šåŠ¨æ•°ç»„æ¥æ„é€ èƒŒåŒ…é—®é¢˜ã€‚æ€è·¯å¦‚ä¸‹ï¼š

> - å¤–å±‚å¾ªç¯éå†æ¯ä¸ªç‰©å“`i`ã€‚
>
> - å†…å±‚å¾ªç¯éå†èƒŒåŒ…çš„å®¹é‡`j`ã€‚
>
> - å¦‚æœå½“å‰ç‰©å“çš„é‡é‡`w[i]`å¤§äºèƒŒåŒ…çš„å®¹é‡`j`ï¼Œè¡¨ç¤ºæ— æ³•å°†ç‰©å“`i`æ”¾å…¥èƒŒåŒ…ä¸­ï¼Œå› æ­¤`f[j]`çš„å€¼ä¸å˜ï¼Œå³`f[j] = f[j]`ã€‚è¿™å¯¹åº”äºä½ æåˆ°çš„â€œä¸æ”¾å…¥æˆ‘ä»¬çš„iâ€æƒ…å†µã€‚
>
> - å¦åˆ™ï¼Œå¦‚æœ`w[i]`å°äºæˆ–ç­‰äºèƒŒåŒ…å®¹é‡`j`ï¼Œè¡¨ç¤ºå¯ä»¥è€ƒè™‘å°†ç‰©å“`i`
>
>   æ”¾å…¥èƒŒåŒ…ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦æ¯”è¾ƒä¸¤ç§æƒ…å†µï¼š
>
>   - `f[j]`è¡¨ç¤ºä¸æ”¾å…¥ç‰©å“`i`æ—¶çš„æœ€å¤§ä»·å€¼ï¼ˆå¯¹åº”äºä½ æåˆ°çš„`f[j] = f[j]`æƒ…å†µï¼‰ã€‚
>   - `f[j-w[i]] + c[i]`è¡¨ç¤ºæ”¾å…¥ç‰©å“`i`åçš„æœ€å¤§ä»·å€¼ï¼Œå…¶ä¸­`f[j-w[i]]`æ˜¯åœ¨å‰©ä½™å®¹é‡`j-w[i]`ä¸‹çš„æœ€å¤§ä»·å€¼ï¼Œè€Œ`c[i]`æ˜¯ç‰©å“`i`çš„ä»·å€¼ã€‚ä½ éœ€è¦é€‰æ‹©è¿™ä¸¤ç§æƒ…å†µä¸­çš„è¾ƒå¤§å€¼ä½œä¸º`f[j]`çš„æ–°å€¼ï¼Œå³`f[j] = max(f[j], f[j-w[i]] + c[i])`ã€‚

![image-20230319202555236](image-20230319202555236.png)

```c++
//ç”¨jé€†åºæ’åº
 for(int i = 1;i<=n;i++)
        for(int j = m;j>=1;j--)
            if(j<w[i]) f[j] = f[j];
   			else f[j] = max(f[j],f[j-w[i]]+c[i]);
```

![image-20230319202608455](image-20230319202608455.png)

```c++
//æ¨¡ç‰ˆ
#include <iostream>
#include <cstring>
using namespace std;

const int MAXN = 1005;

int N, V; // Nè¡¨ç¤ºç‰©å“ä¸ªæ•°ï¼ŒVè¡¨ç¤ºèƒŒåŒ…å®¹é‡
int w[MAXN], v[MAXN]; // w[i]è¡¨ç¤ºç¬¬iä¸ªç‰©å“çš„é‡é‡ï¼Œv[i]è¡¨ç¤ºç¬¬iä¸ªç‰©å“çš„ä»·å€¼
int dp[MAXN]; // dp[i]è¡¨ç¤ºå®¹é‡ä¸ºiçš„èƒŒåŒ…æ‰€èƒ½è£…ä¸‹çš„æœ€å¤§ä»·å€¼

int main() {
    cin >> N >> V;
    for (int i = 1; i <= N; i++) {
        cin >> w[i] >> v[i];
    }

    memset(dp, 0, sizeof(dp)); // åˆå§‹åŒ–dpæ•°ç»„
    for (int i = 1; i <= N; i++) {
        for (int j = V; j >= w[i]; j--) { // ä»åå¾€å‰éå†ï¼Œé¿å…é‡å¤é€‰æ‹©ç‰©å“
            dp[j] = max(dp[j], dp[j - w[i]] + v[i]); // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        }
    }

    cout << dp[V] << endl; // è¾“å‡ºç»“æœ

    return 0;
}
```

![image-20230320144822881](image-20230320144822881.png)

![image-20230320144830870](image-20230320144830870.png)

![image-20230320144922085](image-20230320144922085.png)

### å®Œå…¨èƒŒåŒ…é—®é¢˜

![image-20230320175854308](image-20230320175854308.png)

![image-20230320175908237](image-20230320175908237.png)

å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œå°±æ˜¯01èƒŒåŒ…çš„å˜å½¢ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥æ— é™æ¬¡æ”¾å…¥ã€‚`f[i][j]`ä¾ç„¶å’Œ01èƒŒåŒ…é—®é¢˜ç›¸åŒçš„ï¼Œiè¡¨ç¤ºçš„æ˜¯æˆ‘ä»¬ç‰©å“çš„ç§ç±»ï¼Œjè¡¨ç¤ºçš„æ˜¯æˆ‘ä»¬èƒŒåŒ…çš„å®¹é‡ã€‚æ”¾å…¥ç‰©å“çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©æ”¾å…¥è¿™ä¸ªç‰©å“æˆ‘ä»¬çš„ä»·å€¼æ˜¯å¦ä¼šå¢åŠ 

**è¿‡ç¨‹:**

èƒŒåŒ…å®¹é‡æ”¾ä¸ä¸‹æˆ‘ä»¬å½“å‰è¿™ä¸ªç‰©å“ æ¡ä»¶å°±æ˜¯`j<w[i]` æ‰€ä»¥è¯´æˆ‘ä»¬çš„å®¹é‡è¿˜æ˜¯ä¸å˜` f[i][j] = f[i-1][j]`; (è¿™ä¹Ÿå°±è§£é‡Šäº†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„æ¥ç»´æŠ¤æˆ‘ä»¬çš„èƒŒåŒ…)ï¼Œè¿™é‡Œçš„`i-1`è¡¨ç¤ºçš„æ˜¯å‰ä¸€ä¸ªç‰©å“ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸ä¼šæ”¹å˜å½“å‰çš„èƒŒåŒ…çŠ¶æ€

- å½“èƒŒåŒ…å¯ä»¥æ”¾å…¥æˆ‘ä»¬å½“å‰è¿™ä¸ªç‰©å“ï¼Œæ¡ä»¶ä¹Ÿå°±æ˜¯`j>=w[i]`æˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹© - æ”¾å…¥å’Œä¸æ”¾å…¥ã€‚æ”¾å…¥çš„è¯å°±æ˜¯  `f[i][j] = f[i][j-w[i]]+c[i] `

- `c[i]`æ˜¯æˆ‘ä»¬çš„ä»·å€¼(è¿™é‡Œçš„içš„æ„æ€å°±æ˜¯æˆ‘ä»¬ç‰©å“æ˜¯æ— ç©·çš„ï¼Œæ¯ä¸€ä¸ªiè¡¨ç¤ºçš„æ„æ€å°±æ˜¯å–å‡ºå½“å‰iè¿™ä¸ªç‰©å“çš„å…¶ä¸­ä¸€ä¸ª)
          ä¸æ”¾å…¥å°±æ˜¯
         ` f[i][j] = f[i-1][j] `  jå°±ä¸ä¼šå˜åŒ–

- æˆ‘ä»¬æœ€ç»ˆçš„è½¬ç§»æ–¹ç¨‹å°±æ˜¯ ä¸Šé¢ä¸¤ä¸ªåˆå¹¶çš„ç»“æœ
         `f[i][j] = f[i-1][j] (j<w[i])`
         ` f[i][j] = max(f[i-1][j],f[i][j-w[i]]+c[i])`

  é‡ç‚¹å°±æ˜¯ç†è§£ï¼Œå˜é‡å…¶å®æ˜¯æˆ‘ä»¬é€‰ä¸é€‰æ‹©è¿™ä¸ªç‰©å“ï¼ï¼ï¼ï¼ 

![image-20230320175946146](image-20230320175946146.png)

![image-20230320175955400](image-20230320175955400.png)

ä¸‹é¢æ˜¯ä»£ç æ¨¡ç‰ˆï¼š

```c++
for(int i = 1;i<=n;i++)
	for(int j = 1;j<=m;j++) //è¿™é‡Œmæ˜¯å®¹é‡
	{
		if(j<w[i]) f[i][j] = f[i-1][j];
		else f[i][j] = max(f[i-1][j],f[i][j-w[i]]+c[i]); //c[i]æ˜¯iç‰©å“çš„ä»·å€¼
	}
printf("%d",f[n][m]);
```

![image-20230320180004395](image-20230320180004395.png)

![image-20230320180015757](image-20230320180015757.png)

![image-20230320180027068](image-20230320180027068.png)

ä¸ºä»€ä¹ˆä¸€ç»´æ•°ç»„(æ»šåŠ¨æ•°ç»„)é€‚åˆï¼š

> - ä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³å®Œå…¨èƒŒåŒ…é—®é¢˜æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸€ç»´æ•°ç»„è¿›è¡Œå®ç°ã€‚è¿™æ˜¯å› ä¸ºå®Œå…¨èƒŒåŒ…é—®é¢˜å…·æœ‰â€œæ— åæ•ˆæ€§â€å’Œâ€œæœ€ä¼˜å­ç»“æ„â€è¿™ä¸¤ä¸ªç‰¹ç‚¹ã€‚
> - æ— åæ•ˆæ€§æŒ‡çš„æ˜¯ï¼Œå½“æˆ‘ä»¬å†³å®šé€‰æ‹©ä¸€ä¸ªç‰©å“æ”¾å…¥èƒŒåŒ…æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†è€ƒè™‘è¯¥ç‰©å“æ˜¯å¦è¢«é€‰æ‹©è¿‡æˆ–æœªæ¥æ˜¯å¦è¿˜ä¼šé€‰æ‹©è¯¥ç‰©å“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€å¯ä»¥é€šè¿‡ä¹‹å‰é˜¶æ®µçš„æŸä¸ªçŠ¶æ€æ¨å¯¼å¾—åˆ°ï¼Œè€Œä¸å—åç»­çŠ¶æ€çš„å½±å“ã€‚
> - æœ€ä¼˜å­ç»“æ„æŒ‡çš„æ˜¯ï¼Œæ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€å¯ä»¥ç”±å‰ä¸€ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€æ¨å¯¼å¾—åˆ°ï¼Œå¹¶ä¸”æ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€ä¹‹é—´æ²¡æœ‰ç›¸äº’åˆ¶çº¦çš„å…³ç³»ï¼Œå³å®ƒä»¬æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚

```c++
    for(int i = 1;i<=n;i++)
        for(int j = 1;j<=m;j++)
            if(j<w[i]) f[j] = f[j];
     else f[j] = max(f[j],f[j-w[i]]+c[i]);
```

![image-20230320180039797](image-20230320180039797.png)

![image-20230320180103129](image-20230320180103129.png)

```c++
#include <iostream>
#include <vector>
using namespace std;

// å®Œå…¨èƒŒåŒ…é—®é¢˜çš„åŠ¨æ€è§„åˆ’è§£æ³•
int knapsack(int W, vector<int>& wt, vector<int>& val) {
    int n = wt.size();
    vector<int> dp(W + 1, 0);

    for (int i = 1; i <= n; i++) {
        for (int j = wt[i-1]; j <= W; j++) {
            dp[j] = max(dp[j], dp[j - wt[i-1]] + val[i-1]);
        }
    }

    return dp[W];
}

// æµ‹è¯•
int main() {
    vector<int> wt = {2, 3, 4, 5};
    vector<int> val = {3, 4, 5, 6};
    int W = 8;
    cout << "æœ€å¤§ä»·å€¼ä¸ºï¼š" << knapsack(W, wt, val) << endl;
    return 0;
}
```

![image-20230320182532855](image-20230320182532855.png)

### å¤šé‡èƒŒåŒ…é—®é¢˜

åœ¨`01`èƒŒåŒ…çš„åŸºç¡€ä¹‹ä¸Šï¼Œè®©æ¯ä¸€ç§ç‰©å“éƒ½æœ‰å¯¹åº”çš„å®¹é‡ã€‚åªéœ€è¦å¤šåŠ ä¸€ä¸ªæšä¸¾æ•°é‡çš„å˜é‡å°±è¡Œã€‚

![image-20230320145257361](image-20230320145257361.png)

![image-20230320145415756](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320145415756.png)

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬forå¾ªç¯æšä¸¾çš„æ˜¯ä½ç½®ï¼Œè€Œä¸æ˜¯å€¼ã€‚æ¯ä¸€ä¸ªä½ç½®å¯¹åº”çš„å€¼æ‰æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„çš„å…³é”®ã€‚

```c++
//åœ¨01èƒŒåŒ…çš„åŸºç¡€ä¸Šï¼Œè®©æ¯ä¸€ä»¶ç‰©å“éƒ½æœ‰ä»–ä»¬çš„æ•°é‡
 //1.v[i],w[i] ä½“ç§¯å’Œä»·å€¼
 for(int i = 1;i<=n;i++) //ç‰©å“ç§ç±»
        for(int j = m; j>=v[i];j--) //èƒŒåŒ…å®¹é‡
            f[j] = max(f[j],f[j-v[i]]+w[i]);
 //2.v[i],w[i],s[i]; ä½“ç§¯ ä»·å€¼ æ•°é‡ 
        for(int i = 1;i<=n;i++)
            for(int j = m;j>=v[i];j--)
                for(int k = 0;k<=s[i]&&k*v[i]<=j;k++) 
                    //è¿™é‡Œçš„kè¡¨ç¤ºçš„æ˜¯é€‰æ‹©ç‰©å“çš„æ•°é‡ - s[i]è¡¨ç¤ºçš„æ˜¯å½“å‰ä½ç½®çš„iç‰©å“çš„æ•°é‡
                    f[j] = max(f[j],f[j-k*v[i]]+k*w[i]);
```

```c++
//æœ´ç´ åšæ³•
const int N = 1e5+10;
int v[N],w[N],s[N]; //ä½“ç§¯ ä»·å€¼ æ•°é‡
int f[N][N]; //è¿™ä¸ªæ˜¯æˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ•°ç»„

int main()
{
    cin>>n>>m;
    
    for( int i = 1;i<=n;i++) cin>>v[i]>>w[i]>>s[i]; //è¿™é‡Œå°±æ˜¯è¾“å…¥å¯¹åº”çš„ä»·å€¼ï¼Œç”±iä¸‹æ ‡è§„å®šæ•°æ®
    for(int i = 1;j<=n;j++)
        for(int j = 0;j<=m;j++)
            for(int k = 0;k<=s[i]&&k*v[i]<=j;k++)
                f[i][j] = max(f[i][j],f[i-1][j-v[i]*k]+w[i]*k); //è¿™é‡Œi-1æ˜¯æŠŠè¿™ä¸ªiç‰©å“é€‰æ‹©äº†ï¼ˆé€‰å¤Ÿäº†å°±å‰”é™¤ï¼‰ - åªè¦æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆçš„kå°±è¡Œï¼ˆæˆ‘ä»¬ä¸ç®¡æ€ä¹ˆå®ç°çš„å°±è¡Œï¼‰
    cout<<f[n][m]<<endl;
    return 0;
    
}
```

![image-20230320145513754](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320145513754.png)

![image-20230320145617888](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320145617888.png)

```c++
//äºŒè¿›åˆ¶çš„è½¬åŒ–å°±æ˜¯ - æˆ‘ä»¬ä¸å†æ˜¯ä¸€ä¸ªä¸€ä¸ªæ•°äº†ï¼Œæˆ‘ä»¬ç°åœ¨æ˜¯ä¸¤ä¸ªä¸¤ä¸ªæ•°çš„
int num = 1;//æ‹†åˆ†è®¡æ•°
for(int i = 1;i<=n;i++){
    //v,w,s; ä½“ç§¯ï¼Œä»·å€¼ï¼Œæ•°é‡
    cin>>v>>w>>s;
    for(int j = 1;j<=s;j<<=1){ //<<=æ˜¯å·¦ç§»ä½èµ‹å€¼è¿ç®—ç¬¦ï¼Œå®ƒå°†å·¦æ“ä½œæ•°å‘å·¦ç§»åŠ¨å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ï¼Œå¹¶å°†ç»“æœèµ‹å€¼ç»™å·¦æ“ä½œæ•°
        vv[num] = j*v; //å­˜ä½“ç§¯
        ww[num++] = j*w; //å­˜ä»·å€¼
        s-=j;
    }
    if(s){
        vv[num] = s*v;
        ww[num++] = s*w;
    }
}

//01èƒŒåŒ…é—®é¢˜ - åŸºç¡€
 for(i = 1;i<num;i++)
        for(j = m;j>=vv[i];j--)
            f[j] = max(f[j],f[j-vv[i]]+ww[i]);
cout<<f[m];
```

```c++
#include <iostream>
#include <cstring>
using namespace std;

const int MAXN = 1005; // ç‰©å“çš„æœ€å¤§æ•°é‡
const int MAXV = 100005; // èƒŒåŒ…çš„æœ€å¤§å®¹é‡
int n, V; // ç‰©å“çš„æ•°é‡å’ŒèƒŒåŒ…çš„å®¹é‡
int w[MAXN], v[MAXN], s[MAXN]; // åˆ†åˆ«è¡¨ç¤ºç‰©å“çš„é‡é‡ã€ä»·å€¼å’Œæ•°é‡
int dp[MAXV]; // dp[i]è¡¨ç¤ºå®¹é‡ä¸ºiçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼

// äºŒè¿›åˆ¶ä¼˜åŒ–
void binary_optimization(int x, int y) {
    for (int j = V; j >= x; j--) {
        for (int k = 0; k <= s[y] && k * x <= j; k++) {
            dp[j] = max(dp[j], dp[j - k * x] + k * y);
        }
    }
}

int main() {
    cin >> n >> V;
    for (int i = 1; i <= n; i++) {
        cin >> w[i] >> v[i] >> s[i];
    }

    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= s[i]; j *= 2) {
            binary_optimization(w[i] * j, v[i] * j); // è°ƒç”¨äºŒè¿›åˆ¶ä¼˜åŒ–å‡½æ•°
            s[i] -= j;
        }
        if (s[i] > 0) {
            binary_optimization(w[i] * s[i], v[i] * s[i]);
        }
    }

    cout << dp[V] << endl; // è¾“å‡ºç­”æ¡ˆ
    return 0;
}
```

```c++
//äºŒè¿›åˆ¶ä¼˜åŒ–
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 12010, M = 2010;

int n, m;
int v[N], w[N];
int f[M];

int main()
{
    cin >> n >> m;

    int cnt = 0;
    for (int i = 1; i <= n; i ++ )
    {
        int a, b, s;
        cin >> a >> b >> s;
        int k = 1;
        while (k <= s)
        {
            cnt ++ ;
            //è¿™é‡Œæ˜¯äºŒè¿›åˆ¶ä¼˜åŒ–çš„æ ¸å¿ƒ - å°±æ˜¯å°†sæ‹†æˆ2è¿›åˆ¶
            //æ ¸å¿ƒæ˜¯å°†ç‰©å“æ‹†åˆ†ä¸º2çš„å¹‚æ¬¡æ–¹ä¸ªç‰©å“
            //æ¯æ¬¡éƒ½æ‹¿sæ‹†å¼€äºŒè¿›åˆ¶çš„æ•°é‡
            v[cnt] = a * k;
            w[cnt] = b * k;
            s -= k;
            k *= 2;
        }
        if (s > 0)
        {
            cnt ++ ;
            v[cnt] = a * s;
            w[cnt] = b * s;
        }
    }

    n = cnt;

    for (int i = 1; i <= n; i ++ )
        for (int j = m; j >= v[i]; j -- )
            f[j] = max(f[j], f[j - v[i]] + w[i]);

    cout << f[m] << endl;

    return 0;
}

```

![image-20230321174757054](image-20230321174757054.png)

### åˆ†ç»„èƒŒåŒ…é—®é¢˜

åœ¨01èƒŒåŒ…çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ç‰©å“åºåˆ—å·ã€‚åªéœ€è¦å°†ä»·å€¼ç”Ÿæˆä¸€ä¸ªç»„çš„åºåˆ—å·å°±è¡Œï¼Œç„¶åç…§å¸¸æšä¸¾å‡ºæˆ‘ä»¬éœ€è¦çš„å€¼ã€‚

![image-20230321181451351](image-20230321181451351.png)

![image-20230321181510913](image-20230321181510913.png)

```c++
//æœ´ç´ åšæ³•
for(int i = 1;i<=n;i++)
    for(int j = 1;j<=V;j++)//ä½“ç§¯
        for(int k = 0;k<=s[i];k++) { //å†³ç­–
            if(j>=v[i][k])
                f[i][j] = max(f[i][j],f[i-1][j-v[i][k]]+w[i][k]);
                //ä¸é€‰å–i  é€‰å–i
        }
cout<<f[n][V];
```

![image-20230321181526186](image-20230321181526186.png)

![image-20230321181540822](image-20230321181540822.png)

```c++
//åˆ†ç»„æœ´ç´ åšæ³•
for(int i = 1;i<=n;i++)
 for(int j = 1;j<=V;j++)
  for(int k = 0;k<=s[i];k++)
  {
   if(j>=v[i][k])
    f[i][j] = max(f[i][j],f[i-1][j-v[i][k]]+w[i][k]);
  }
cout<<f[n][V];
```

![image-20230321181555557](image-20230321181555557.png)

> åº”è¯¥ä¹Ÿå¯ä»¥ç”¨äºŒè¿›åˆ¶ä¼˜åŒ–ç­–ç•¥

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 12010, M = 2010;

int n, m;
int v[N], w[N];
int f[M];

int main()
{
    cin >> n >> m;
    int cnt = 0;
    for (int i = 1; i <= n; i ++ )
    {
        int a, b, s;
        cin >> a >> b >> s;
        int k = 1;
        //è¿™é‡Œæ˜¯å°†sæ•°é‡åˆ†äºŒè¿›åˆ¶
        while (k <= s)
        {
            cnt ++ ;
            v[cnt] = a * k;
            w[cnt] = b * k;
            s -= k;
            k *= 2;
        }
        //è¿™é‡Œå°±æ„é€ äºŒè¿›åˆ¶æ•°ç»„
        if (s > 0)
        {
            cnt ++ ;
            v[cnt] = a * s;
            w[cnt] = b * s;
        }
    }

    n = cnt;

    //2.è¿™é‡Œå°±æ˜¯é€‰æ‹©æœ€å¤§
    for (int i = 1; i <= n; i ++ )
        for (int j = m; j >= v[i]; j -- )
            f[j] = max(f[j], f[j - v[i]] + w[i]);

    cout << f[m] << endl;

    return 0;
}
```

### æ··åˆèƒŒåŒ…é—®é¢˜

![image-20230320145732542](image-20230320145732542.png)

![image-20230320145752872](image-20230320145752872.png)

![image-20230320145806496](image-20230320145806496.png)

``` c++
//ä¸‰ä¸ªèƒŒåŒ…ç»¼åˆè€ƒè™‘
```

## [è®°å¿†åŒ–æœç´¢](https://zhuanlan.zhihu.com/p/438406757)

### æ ‘å¡”

![image-20230320153726163](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320153726163.png)

![image-20230320153741418](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320153741418.png)

![image-20230320153805063](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320153805063.png)



## [çº¿æ€§dp](https://zhuanlan.zhihu.com/p/98405912)

### å¤§ç›—é˜¿ç¦

![image-20230320151317664](image-20230320151317664.png)

![image-20230320151339739](image-20230320151339739.png)

```c++
//çº¿æ€§dp
 åœ¨è¿™ä¸ªé¢˜ç›®ä¸­ï¼Œfæ•°ç»„å­˜å‚¨çš„æ˜¯æˆ‘ä»¬å·å–çš„ç‰©å“ä»·å€¼æ˜¯å§ï¼Œç„¶åæˆ‘ä»¬è¦é€‰æ‹©å·å–ä»·å€¼æœ€å¤§åŒ–ï¼Œæ¯ä¸€ä¸ªä¸‹æ ‡éƒ½ä»£è¡¨ç€ä¸€ä¸ªåº—é“ºæ˜¯è¿™ä¸ªæ ·å­ï¼Ÿ
//å†™
 scanf("%d",&t);
 while(t--)
    {
        scanf("%d",&n);
        for(int i = 1;i<=n;i++)
            scanf("%d",&w[i]);
        
        f[0] = 0;
        f[1] = w[1];
        
        //ç”¨ä¸‹æ ‡ä»£è¡¨é€‰æ‹© - æ˜¯è¿™ä¸ªæ ·å­çš„
        //ç”¨æ•°ç»„å­˜å‚¨ä»·å€¼
        for(int i = 2;i<=n;i++){
            f[i] = max(f[i-1],f[i-2]+w[i]);
        }
        printf("%d\n",f[n]);
    }
 
```

![image-20230320151353844](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320151353844.png)

```c++
//ç”¨äºŒç»´æ•°ç»„æ„é€ 
 scanf("%d",&t);
 while(t--)
    {
        scanf("%d",&n);
        for(int i = 1;i<=n;i++)
            scanf("%d",&w[i]);
        //ç”¨ç¬¬äºŒç»´çš„æ•°æ®è¡¨ç¤ºé€‰æ‹© 0ä¸é€‰ 1é€‰æ‹©
        f[1][0] = 0;f[1][1] = w[1];
        for(int i = 2;i<=n;i++){
            //ä¸é€‰æ‹©i
            f[1][0] = max(f[i-1][0],f[i-1][1]);
            //é€‰æ‹©äº†iè¿™ä¸ªç‰©å“
            f[i][1] = f[i-1][0]+w[i];
        }
        printf("%d",max(f[n][0],f[n][1]));
        
    }
```

![image-20230320151402877](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230320151402877.png)

### æ•°å­—ä¸‰è§’å½¢

```c++
//æ•°å­—ä¸‰è§’å½¢
#include<iostream>
using namespace std;

const int N = 510,INF = 0x3f3f3f3f;
int g[N][N],f[N][N];

int main()
{
    int n;
    cin>>n;
    for(int i = 1;i<=n;i++)
        for(int j = 1;j<=i;j++)
        cin>>g[i][j];
    
    for(int i = 1;i<=n;i++)
        for(int j = 0;j<=i+1;j++)
        f[i][j] = -INF;//jä»0å¼€å§‹æ˜¯ä¸ºäº†ç¡®å®šå­æ ‘çš„é€‰æ‹©
    
    f[1][1] = g[1][1];
    for(int i = 2;i<=n;i++)
        for(int j = 1;j<=i;j++)
        f[i][j] = g[i][j] + max(f[i-1][j-1],f[i-1][j]);
    
    int res = -INF;
    for(int i = 1;i<=n;i++) res = max(res,f[n][i]);//ç¬¬nè¡Œ é€‰æ‹©içš„ç»“æœ
    cout<<res<<endl;

}
```

### æœ€é•¿ä¸Šå‡å­åºåˆ— or äºŒåˆ†ä¼˜åŒ–

```c++
//æœ€é•¿ä¸Šå‡å­åºåˆ—
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 1010;

int n;
int a[N], f[N];

int main()
{
    scanf("%d", &n);
    for (int i = 1; i <= n; i ++ ) scanf("%d", &a[i]);

    for (int i = 1; i <= n; i ++ )
    {
        f[i] = 1; // åªæœ‰a[i]ä¸€ä¸ªæ•°
        for (int j = 1; j < i; j ++ )
        //å‰å°äºå ä¸¥æ ¼å•è°ƒ
            if (a[j] < a[i])
                f[i] = max(f[i], f[j] + 1);//è¿ç»­èµ° or è·³ç€èµ°
    }

    int res = 0;
    for (int i = 1; i <= n; i ++ ) res = max(res, f[i]);

    printf("%d\n", res);

    return 0;
}
```

```c++
//äºŒåˆ†ä¼˜åŒ–
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 100010;

int n;
int a[N];
int q[N];

int main()
{
    scanf("%d", &n);
    for (int i = 0; i < n; i ++ ) scanf("%d", &a[i]);

    int len = 0;
    for (int i = 0; i < n; i ++ )
    {
        int l = 0, r = len;
        while (l < r)
        {
            int mid = l + r + 1 >> 1;
            if (q[mid] < a[i]) l = mid;
            else r = mid - 1;
        }
        //äºŒåˆ†æ‰¾ç›®æ ‡å€¼ æ›´æ–°len
        len = max(len, l + 1);
        q[r + 1] = a[i];
    }

    printf("%d\n", len);

    return 0;
}
```

### æ±‚å…¬å…±å­åºåˆ—

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 1010;

int n, m;
char a[N], b[N];
int f[N][N];//ä¸€ç»´æŒ‡çš„æ˜¯aå‰nä¸ªæ•°æ® - äºŒä½æŒ‡çš„æ˜¯bå‰nä¸ªæ•°æ®ï¼Ÿ

int main()
{
    scanf("%d%d", &n, &m);
    scanf("%s%s", a + 1, b + 1);

    for (int i = 1; i <= n; i ++ )
        for (int j = 1; j <= m; j ++ )
        {
            //f[i-1][j] è¡¨ç¤ºåˆ é™¤açš„ç¬¬iä¸ªå­—ç¬¦åä¸bçš„å‰jä¸ªå­—ç¬¦çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ï¼›
     //f[i][j-1] è¡¨ç¤ºåˆ é™¤bçš„ç¬¬jä¸ªå­—ç¬¦åä¸açš„å‰iä¸ªå­—ç¬¦çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ï¼›
            f[i][j] = max(f[i - 1][j], f[i][j - 1]);
            if (a[i] == b[j]) f[i][j] = max(f[i][j], f[i - 1][j - 1] + 1);//ç¬¦åˆå°±é€‰æ‹©ä¸¤è€…å˜åŒ–çš„æœ€å¤§å€¼
        }

    printf("%d\n", f[n][m]);

    return 0;
}
```

![image-20230326134216185](image-20230326134216185.png)

### æœ€çŸ­ç¼–è¾‘è·ç¦»

![image-20230326135739598](image-20230326135739598.png)

```c++
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 1010;

int n, m;
char a[N], b[N];
int f[N][N];

int main()
{
    scanf("%d%s", &n, a + 1);
    scanf("%d%s", &m, b + 1);

    //åˆå§‹åŒ–ç«–å’Œ
    for (int i = 0; i <= m; i ++ ) f[0][i] = i;
    for (int i = 0; i <= n; i ++ ) f[i][0] = i;

    for (int i = 1; i <= n; i ++ )
        for (int j = 1; j <= m; j ++ )
        {
            f[i][j] = min(f[i - 1][j] + 1, f[i][j - 1] + 1);
            if (a[i] == b[j]) f[i][j] = min(f[i][j], f[i - 1][j - 1]);
            else f[i][j] = min(f[i][j], f[i - 1][j - 1] + 1);
        }

    printf("%d\n", f[n][m]);

    return 0;
}
```

